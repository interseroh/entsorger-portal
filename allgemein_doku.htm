<!DOCTYPE html>
<html lang="de"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Die 3 Meta-Tags oben *müssen* zuerst im head stehen; jeglicher sonstiger head-Inhalt muss *nach* diesen Tags kommen -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.png">
    <title>Entsorgerportal API</title>
    <!-- Bootstrap-Interseroh-CSS -->
    <link href="css/interseroh-bootstrap.css" rel="stylesheet">
    <!-- Nur für Testzwecke. Kopiere diese Zeilen nicht in echte Projekte! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="doku-Dateien/ie-emulation-modes-warning.js"></script>
    <!-- Unterstützung für Media Queries und HTML5-Elemente in IE8 über HTML5 shim und Respond.js -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body role="document" style="color:#183362;font-family:31E5E6_0_0">
    <!-- Fixierte Navbar -->
    <div class="container">
      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Navigation ein-/ausblenden</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="index.htm">Home</a></li>
              <li class="active"><a href="allgemein_doku.htm">Getting Started</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">APIs <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="bestellung_doku.htm">Bestellung API</a></li>
                  <li><a href="leistung_doku.htm">Leistung API</a></li>
                  <li><a href="stammdaten_doku.htm">Stammdaten API</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>
  </div>
  <div style="width:100%">
    <div style="width:300px;margin:auto;text-align:center;margin-bottom:6%;">
      <img src="bilder/interseroh_zero waste_klein.jpg" alt="intersero Logo" style="width:100%;margin: auto; padding: 10px;max-width:470px;max-height: 280px;">
    </div>
  </div>
    <div class="container theme-showcase" role="main">
      <!-- Haupt-Jumbotron für eine hauptsächliche Marketing-Botschaft
      oder einen Aufruf zu einer Aktion -->
      <div style="text-align: center" class="jumbotron">
        <h1>Interseroh EntsorgerPortal API</h1>
        <p style="text-align: center">Interseroh EntsorgerPortal API sind Dienste
          für den maschinellen Datenaustausch zwischen Interseroh und seinen
          Entsorgungspartnern. Diese Services ergänzen die Funktionen des Interseroh
          EntsorgerPortal. Die einzelnen Services im weiteren Verlauf genauer
          beschrieben.</p>
       </div>
      <div class="page-header">
      <h2>Allgemeine Beschreibung</h2>
      <h3>Technologien</h3>
	  <h4>Restful API</h4>
      <ul>
        <li>Es wird das Programmierparadigma  REST eingesetzt.</li>
        <li><a target="_blank" href="https://de.wikipedia.org/wiki/Representational_State_Transfer">
          https://de.wikipedia.org/wiki/Representational_State_Transfer</a></li>
      </ul>
	  <h4>JSON</h4>
      <ul>
        <li>Es wird das Datenformat JSON eingesetzt.</li>
        <li><a target="_blank" href="https://de.wikipedia.org/wiki/JavaScript_Object_Notation">
          https://de.wikipedia.org/wiki/JavaScript_Object_Notation</a></li>
      </ul>
      <br>
      <h3>TicketID</h3>
      <p>Die einzelnen Services beziehen sich auf unterschiedliche Prozessschritte
        von durchgängigen Geschäftsvorgängen. D.h. zur Abwicklung eines einzelnen
         Geschäftsvorganges können mehrere Services angesprochen werden. Um einen
         eindeutigen Bezug zu einem bestimmten Geschäftvorgang sicherzustellen, erhält jeder Geschäftsvorgang
          einen eindeutigen technischen Identifizierer. Dieser Identifizierer ist die
           TicketID. Eine TicketID kann von Services in der Response geliefert aber auch
            als Parameter eines Requests benötigt werden. Sie ist für das Mapping der
            einzelnen Geschäftsvorgänge in den miteinander kommunizierenden Systemen
            erforderlich.</p>
         <br />
      <h3>Swagger</h3>
      <p>Zur technischen Dokumentation der einzelnen Services wird das Tool
        <a target="_blank" href="http://swagger.io/">Swagger</a> eingesetzt (<a target="_blank"
              href="https://www.interseroh-portal-test.com/entsorgerportal/swagger/swagger-ui.html">Link</a> zur technischen Dokumentation).
		Es liefert für jeden Service folgende Informationen:
		<h4>Endpoint</h4>
        <ul>
          <li>URL</li>
          <li>HTTP Methode</li>
          <li>Funktion</li>
        </ul>
		<h4>Request</h4>
        <ul>
          <li>Modell</li>
          <li>DTO</li>
          <li>Parameter</li>
        </ul>
		<h4>Response</h4>
        <ul>
          <li>Modell</li>
          <li>Content Type</li>
          <li>HTTP Status</li>
        </ul>
        <p>Zusätzlich können hier über eine Oberfläche Requests an die einzelnen
          Services getestet werden.</p>
        <br>
        <h3>Registrierung</h3>
        <p>Aktuell befinden sich alle Services noch in der Pilotphase. Während
           dieser Phase findet die Registrierung nach Absprache zwischen Interseroh
           und den Pliotpartnern statt. Beim Übergang in den Regelbetrieb wird
           eine Webapplikation zur Registierung bereitgestellt werden.</p>
           <br>
         <h3>Authentifizierung</h3>
         <p>Die Authentifizierung erfolgt nach dem Authorization Framework
             OAuth2 (siehe Quellen). Jeder Servicerequest muss durch ein
             entsprechendes Access Token authentifiziert werden. Ein solches
             Token wird über einen Authorization Server bereitgestellt. Es
             wird JWT Token verwendet.</p>
        <br>
        <h4>Quellen</h4>
        <ul>
          <li>Spezifikationen: <a target="_blank" href=" https://tools.ietf.org/html/rfc6749">https://tools.ietf.org/html/rfc6749</a>  </li>
          <li>Beschreibung:  <a target="_blank" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2">https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2</a></li>
          <li>JWT Token: <a target="_blank" href="https://jwt.io">https://jwt.io</a> </li>
        </ul>
        <br>
        <h4>Authorization Server</h4>
        <ul>
          <li>Testsystem: <a target="_blank" href="https://www.interseroh-portal-test.com/openid-connect-server-webapp/token">https://www.interseroh-portal-test.com/openid-connect-server-webapp/token</a> </li>
          <li>Produktivsystem: <a target="_blank" href=" https://www.interseroh-portal.de/openid-connect-server-webapp/token"> https://www.interseroh-portal.de/openid-connect-server-webapp/token</a></li>
        </ul>
        <br>
        <h4>Credentials</h4>
        <p>Bei der Registrierung wird dem potentiellen API Consumer je ein
          client_id und client_secret mitgeteilt. Sie werden benötigt um ein
          Access Token anzufordern. Sie werden in Form eines Authorization Header
           übertragen. Dieser Header wird wie folgt erzeugt:</p>
           <ul>
             <li>'Authorization: Basic ' + Base64(<code>client_id</code> + ':' + <code>client_secret</code>)
             <li>Zum kodieren in Base64 kann beispielsweise diese Seite verwendet werden: <a target="_blank" href="https://www.base64encode.org">https://www.base64encode.org</a></li>
             <li>z.B.: <code>Authorization: Basic AbCdEfGhIyKlMnOpQrS== </code></li>
           </ul>
           <br>
           <h4>Anfrage Access Token</h4>
           <h5>Authorization Grant</h5>
           <p>Es wird der Authorization Grant <b>Client Credentials</b> verwendet. </P>
            <br>
            <h4>HTTP Message</h4>
            <pre>
https://server.example.com/openid-connect-server-webapp/token
POST / HTTP/1.1
Host: server.example.com
Authorization: Basic AbCdEfGhIyKlMnOpQrS==
Content-Type: application/x-www-form-urlencoded
grant_type=client_credentials
</pre>
            <br>
            <h4>CURL-Befehl</h4>
            <pre><code>curl -XPOST -u [client_id]:[client_secret] https://www.interseroh-portal-test.com/openid-connect-server-webapp/token -d "grant_type=client_credentials"</code></pre>
           <br>
           <h4>Antwort mit Access Token</h4>
           <pre>
HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Cache-Control: no-store
Pragma: no-cache
{
  "access_token":"feefdae9-61ef-434a-8e0c-85eab2dcb02a",
  "token_type":"bearer",
  "expires_in":1800,
}
</pre>
           <br>
           <h4>Parameter</h4>
           <p>Die Bedeutung der einzelnen Parameter sind in der Spezifikation (siehe Quellen) beschrieben.</p>
         <h4>Antwort mit Error</h4>
         <pre>
{
  "status":401,
  "error":"Unauthorized",
  "message":"Error description ...",
  "path":"/openid-connect-server-webapp/token"
}
</pre>
         <br>
		 </div>
      <!-- FOOTER -->
      <footer>
		<p style="font-size: 0.75em; text-align: center;">© 2017 <a href="http://www.interseroh.de"  target="_blank" style="font-size: 1em;">Interseroh</a> · <a href="impressum.htm" style="font-size: 1em;">Impressum</a> · <a href="http://www.github.com/interseroh" target="_blank" style="font-size: 1em;">GitHub</a> · <a href="https://twitter.com/hashtag/interseroh" target="_blank" style="font-size: 1em;">Twitter</a> · <a href="https://www.facebook.com/Interseroh/" target="_blank" style="font-size: 1em;">Facebook</a> </p>
      </footer>

    </div> <!-- /container -->

    <!-- Bootstrap-JavaScript
    ================================================== -->
    <!-- Am Ende des Dokuments platziert, damit Seiten schneller laden -->
    <script src="bootstrap/js/jquery.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
    <script src="bootstrap/js/docs.js"></script>
    <!-- IE10-Anzeigefenster-Hack für Fehler auf Surface und Desktop-Windows-8 -->
    <script src="bootstrap/js/ie10-viewport-bug-workaround.js"></script>


<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 15px; height: 15px; z-index: 999999999;" title="" data-original-title="Copy to clipboard">
        <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">
         <param name="movie" value="/assets/flash/ZeroClipboard.swf?noCache=1490264310461">
         <param name="allowScriptAccess" value="sameDomain">
         <param name="scale" value="exactfit">
         <param name="loop" value="false">
         <param name="menu" value="false">
         <param name="quality" value="best">
         <param name="bgcolor" value="#ffffff">
         <param name="wmode" value="transparent">
         <param name="flashvars" value="trustedOrigins=holdirbootstrap.de%2C%2F%2Fholdirbootstrap.de%2Chttp%3A%2F%2Fholdirbootstrap.de">
         <embed src="doku-Dateien/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="global-zeroclipboard-flash-bridge" allowscriptaccess="sameDomain" allowfullscreen="false" type="application/x-shockwave-flash" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="trustedOrigins=holdirbootstrap.de%2C%2F%2Fholdirbootstrap.de%2Chttp%3A%2F%2Fholdirbootstrap.de" scale="exactfit" width="100%" height="100%">                </object>
         </div>
         <svg xmlns="http://www.w3.org/2000/svg" width="1140" height="500" viewBox="0 0 1140 500" preserveAspectRatio="none" style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;">
           <defs>
             <style type="text/css">
             </style>
           </defs>
           <text x="0" y="57" style="font-weight:bold;font-size:57pt;font-family:Arial, Helvetica, Open Sans, sans-serif">
             DritteFolie
           </text>
         </svg>
       </body>
       </html>
